"3.5 (created: 2011/11/13 17:32:12)
"by fifnel

"------------------------------------------------------------------------------
" vimperator settings
"------------------------------------------------------------------------------
set complete=tl
set focuscontent
set hintchars=HJKLASDFGYUIOPQWERTNMZXCVB
set visualbell
highlight Bell display:none;

colorscheme vimpwhite

"------------------------------------------------------------------------------
" browser settings
"------------------------------------------------------------------------------

" 互換性チェック外し
set! extensions.checkCompatibility.13.0=false
set! extensions.checkCompatibility.14.0=false
set! extensions.checkCompatibility.15.0=false

" ページのアクセスキーを無効化
set! ui.key.generalAccessKey=0

" undo保持数
set! browser.sessionstore.max_tabs_undo=100

" ステータスバーの閉じるボタンを消す
style -name addonbar-closebutton chrome://* <<EOM
#addonbar-closebutton { visibility:hidden; }
EOM

"------------------------------------------------------------------------------
" basical mappings
"------------------------------------------------------------------------------
" コロンとセミコロンを入れ替え
nnoremap ; :
nnoremap : ;

" 進む、戻る
nnoremap , H
nnoremap . L

" 中止
nnoremap <Esc> :stop<CR>

" j/kの移動量をもう少し多めに
noremap j 10j
noremap k 10k

" タブ移動
noremap <F3> gt
noremap <F2> gT
noremap l gt
noremap h gT

"------------------------------------------------------------------------------
" plugins mappings
"------------------------------------------------------------------------------
" copy.js
nnoremap c :copy URL<CR>
nnoremap C :copy titleAndURL<CR>
nnoremap <C-S-c> :copy htmlanchor<CR>

" browser_object.js
map <C-S-h> ,dlt<CR> " 今のタブから左（上）を全閉じ
map <C-S-l> ,drt<CR> " 今のタブから右（下）を全閉じ

" はてなブックマークアドオン
javascript <<EOM
liberator.globalVariables.hBookmark_shortcuts = {
    hintsAdd     : 'e',
    hintsComment : 'E',
    add          : ['e'],
    comment      : ['E'],
};
EOM
javascript if (typeof hBookmark != 'undefined') liberator.loadScript('chrome://hatenabookmark/content/vimperator/plugin/hatenabookmark.js', {__proto__: this});

"------------------------------------------------------------------------------
" plugins settings
"------------------------------------------------------------------------------
" plugin_loader.js
let g:plugin_loader_roots = "~/.vimperator/vimperator-plugins.git/"
let g:plugin_loader_plugins = "_libly,browser_object,copy,feedSomeKeys_3,ime_controller,walk-input,statusline-toolbar"

" browser_object.js
let g:browser_object_prefix = ','

" ime_controller.js
let g:ex_ime_mode = "inactive"
let g:textarea_ime_mode = "inactive"

" statusline-toolbar.js
"set statuslinetoolbars=feed-button

" copy.js
javascript <<EOM
liberator.globalVariables.copy_templates = [
   { label: 'titleAndURL',    value: '%TITLE%\n%URL%' },
   { label: 'URL',            value: '%URL%' },
   { label: 'title',          value: '%TITLE%' },
   { label: 'hatena',         value: '[%URL%:title=%TITLE%]' },
   { label: 'hatenacite',     value: '>%URL%:title=%TITLE%>\n%SEL%\n<<' },
   { label: 'markdown',       value: '[%SEL%](%URL% "%TITLE%")' },
   { label: 'htmlblockquote', value: '<blockquote cite="%URL%" title="%TITLE%">%HTMLSEL%</blockquote>' },
   { label: 'htmlanchor',     value: '<a href="%URL%">%TITLE%</a>' }
];
EOM

" feedSomeKeys_3.js
command! -nargs=+ lazy autocmd VimperatorEnter .* <args>
lazy fmaps -u='mail\.google\.com/mail' c / j k n p o u e x s r a # [ ] ? gi gs gt gd ga gc
lazy fmaps -u='mail\.google\.com/mail/.*/[0-9a-f]+$' c / j,n k,p n,j p,k o u e x s r a # [ ] ? gi gs gt gd ga gc
lazy fmaps -u='www\.google\.co\.jp/reader' -events=vkeypress m,mn A v,vn r o X O gh ga gs gt gu / ? <Space> <S-Space> <PageUp> <PageDown> c,1 C,2 j,n k,p n,j p,k s,NO S,ANO a,PO J,N K,P w,t b,s z,zb T M,mn
lazy fmaps -u='http://.*\.tumblr\.com/' i,tj x,d j k p o n,lj
lazy fmaps -u='http://code.google.com/p/vimperator-labs/issues/list' o j k
lazy fmaps -u='http://code.google.com/p/vimperator-labs/issues/detail' u


echo ".vimperatorrc sourced"

" vim: set ft=vimperator:
